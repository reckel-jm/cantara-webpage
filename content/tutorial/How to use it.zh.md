---
title: "一般用法"
date: 2022-07-19T15:37:14+02:00
draft: false
toc: true
weight: 3
---

## 初始步骤

安装完成后，只需通过开始菜单或 `cantara` 命令打开 Cantara。您将看到**欢迎助手**，它将帮助您完成 Cantara 的配置。
![英文版 Cantara 设置](/images/cantara-welcome-assistent-step-1.png)

在这里，您应该选择一个歌曲仓库目录，用于存储所有歌词文件。如果还没有，可以创建一个新的空文件夹并将其选为歌曲仓库。助手将建议您添加"Amazing Grace"作为示例歌曲，以帮助您理解程序的工作原理。

完成欢迎助手后，您还应该根据自己的需求调整字体设置、文字颜色或背景颜色。您可以在**设置**（编辑 -> 设置）中进行。*预览下一张幻灯片*选项将在当前部分下方以较小的字体显示下一个歌曲部分的歌词。

除此之外，您可以配置**元数据**的显示方式。更多详情请参见元数据部分。

## 歌曲选择窗口

配置成功完成后，您将进入歌曲选择窗口，在那里您可以选择想要演唱的歌曲。搜索字段可帮助您找到喜欢的歌曲。只需在左侧列表中选择歌曲后双击或按回车键，歌曲将添加到右侧列表，您可以在那里调整顺序或删除所选歌曲。
![](/images/cantara-songselection-en.png)

完成后，按下*演示*按钮开始演示。您也可以改为按 *CTRL+P*。

{{% notice tip %}}
Cantara 启动时会自动检测您是否已将第二台显示器（如第二个屏幕或投影仪）连接到电脑。如果是，它将自动选择双窗口模式。您也可以根据需要进行调整。
{{% /notice %}}

## 演示模式期间

在演示模式下，您可以通过多种方式控制演示幻灯片：

* 使用方向键：您可以使用键盘上的方向键向前或向后移动
* 按 F5/F11：切换全屏
* 使用回车键或空格键：您可以使用回车键或空格键向前移动幻灯片
* 按 ESC：结束演示
* 鼠标点击：向前移动幻灯片
* 点击歌曲选择窗口中右侧选择列表中的歌曲（仅限多屏模式）：您可以直接跳转到某首歌曲

{{% notice tip %}}
如果您同时在演示模式下运行 LibreOffice Impress 或 MS PowerPoint 等其他程序，您可以轻松使用 Alt+Tab 在演示者之间切换。当 Cantara 中的演示模式启动时，它将覆盖第二个屏幕并处于前台。要将 Cantara 移到后台，按 Alt+Tab 导航到您想显示的程序。
{{% /notice %}}

## 调整演示

看过默认演示样式后，您可能想根据自己的需求进行调整。为此，您可以打开设置对话框（编辑 -> 设置）。在那里您可以进行以下设置：

![](/images/cantara-settings-en.png)

- **歌曲仓库路径**：歌曲仓库的路径。使用带三个点（..）的按钮打开文件选择对话框。
- **歌曲之间的空白幻灯片**：在两首不同歌曲*之间*的演示中创建额外的空白幻灯片。
- **预览下一张幻灯片**：如果歌曲有额外的幻灯片且幻灯片空间足够，则在文本下方显示下一张幻灯片的内容或部分内容。
- **对齐**：调整演示幻灯片中文本的水平和垂直对齐方式。按**详细信息**设置边距大小。
- **自动换行**：当一节（歌曲部分）达到指定的行数限制时，将幻灯片拆分（特别推荐用于有长节的歌曲）。
- **更改字体设置.../背景颜色.../文字颜色...**：打开用于指定演示设计的对话框。
- **背景图片**：打开文件选择对话框，您可以在其中为演示选择背景图片。如果可用，首先会打开包含一些默认背景图片的文件夹。
- **更改图片透明度**：将图片透明度**向**背景颜色方向调整。这意味着如果背景颜色设置为（例如）黑色，较高的值将使图片*更暗*。如果背景是白色，较高的值将使图片*更亮*。
- **显示元数据**：某些元数据可以显示在特殊的标题幻灯片（如果选择）、第一张幻灯片或最后一张幻灯片上。在底部的大编辑框中输入语法，并查看[元数据](/tutorial/meta-data)了解详情。
- **预览图片**：点击预览前进一张幻灯片。如果演示已到达结尾，将返回到开头。

## 导出演示

Cantara 提供多种导出演示的方式，以便在其他程序中或用于其他目的重复使用。所有导出选项都在主窗口的*导出菜单*中。一般来说，有两种导出类型：

1. **导出演示幻灯片**：将演示幻灯片完全按照在 Cantara 中显示的方式导出。目前有两种此类型的导出选项：
   1. **PowerPoint 演示文稿**（.pptx 文件）：将幻灯片演示导出为 pptx 文件，以便在演示程序（Microsoft PowerPoint、LibreOffice Impress、SoftMaker Presentation 等）中使用。幻灯片的生成使用 JavaScript 库 [PptxGenJs](https://gitbrent.github.io/PptxGenJS/)（MIT 许可证）在本地网页浏览器中作为渲染器。
   2. **图片/图像**：将每张幻灯片导出为 JPEG 文件并保存到选定的文件夹中。
2. **将歌词导出为标记格式**：以指定的标记格式按正确顺序导出歌曲歌词，但不包含任何演示设置（幻灯片分隔符、背景图片、颜色等）。这可用于（但不限于）：
   - 将歌曲导出为 WhatsApp/Telegram 消息，以便在会众/人们跟唱的群组/频道中分享
   - 将歌曲导出为 HTML 网页，以便在网页上发布
   - 仅导出歌曲标题，以便向 CCLI 报告

标记的结构可以通过 LaTeX 风格的标记语言指定。前往*导出 -> 标记文本*打开标记导出窗口。

![](/images/cantara-markup-export.png)

模板语言支持以下命令/环境。所有命令都是*可选的*：

- ```\header { ... }```: 文档的页眉部分，将显示在文档顶部。由于此部分在歌曲循环之外，这里不能显示特定于歌曲的内容。
- ```\footer { ... }```: 文档的页脚部分，将显示在文档底部。由于此部分在歌曲循环之外，这里不能显示特定于歌曲的内容。
- ```\newline```: 插入系统默认换行符
- ```\betweensongs { ... }```: 定义两首歌曲之间（但不在第一首歌曲之前和最后一首歌曲之后）应显示什么。默认值设置为两个换行符（新段落：```\betweensongs { \newline \newline }```）
- ```\lineending```: 指定歌曲循环内的行结束（默认值为 ```\newline```）
- ```\songloop { ... }``` 将为**每首歌曲**显示的内容（每首歌曲重复）。在此环境中，歌曲标签（请参见[元数据](/tutorial/meta-data)）可以通过 ```\tagname``` 访问——例如，```\title``` 用于 ```title``` 标签，```\author``` 用于 ```author``` 标签。歌词本身通过 ```\lyrics``` 命令加载。

## 保存和加载歌曲选择

您可以将歌曲选择保存并加载到 Cantara 中，以便在组织内共享或准备活动。这样做时，您有两个选项：

1. **songtex** 格式包含歌曲名称**和**包含其内容的歌曲文件。这意味着如果您将歌曲选择导出到 songtex 文件，接收方不需要在其歌曲仓库中有这些歌曲。导入 songtex 文件时，Cantara 会检查文件是否已存在于仓库中，如果不存在则添加它。
2. 旧版导出/导入功能仅导入标题，这意味着接收方需要在其歌曲仓库中有这些歌曲。
